<!DOCTYPE html>
<html lang="pt-br">
    <head>
        <meta charset="UTF-8"/>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta http-equiv="X-UA-Compatible" content="ie-edge"/>
        <title>Joga AI</title>
        <link rel="stylesheet" href="{{ url_for('static', filename='css/styleJogos.css') }}">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/7.0.0/css/all.min.css">
    </head>
    <body>
        <nav id="menu">
            <ul>
                <li><a href="/"><i class="fa-solid fa-house"></i> Home</a></li>
                <li><a href="/filmes"><i class="fa-solid fa-film"></i> Filmes</a></li>
                <li><a href="/series"><i class="fa-solid fa-tv"></i> Series</a></li>
                <li><a href="/jogos"><i class="fa-solid fa-gamepad"></i> Jogos</a></li>
                <li><a href="/livros"><i class="fa-solid fa-book"></i> Livros</a></li>
            </ul>
        </nav>
        <header>
            <div id="titulo">
                <h1>Joga AI</h1>
                <h3>Tá em dúvida? <strong>A gente te ajuda!</strong></h3>
            </div>
            <div id="logo">
                <a href="/"><img src="{{url_for('static', filename='img/logo3.png')}}" alt="logo" /></a>
            </div>
        </header>
        <main>
            <div class="container">
                <section id="formulario">
                    <form action="/jogos" method="POST">
                        <h2>Descreva o que busca</h2>
                        <label for="genre-input">Gênero</label>
                        <input type="text" id="genre-input" name="genre" list="genre-list" placeholder="Ex: Action, Adventure, Racing, etc">
                        <datalist id="genre-list">
                        {% for genero in generos %}
                            <option value="{{ genero }}"></option>
                        {% endfor %}
                        </datalist>


                        <label for="platform-input">Plataforma</label>
                        <input type="text" id="platform-input" name="platform" list="platform-list" placeholder="Ex: PC, Playstation, Android, etc">
                        <datalist id="platform-list">
                            {% for plataforma in plataformas %}
                               <option value="{{ plataforma }}"></option>
                            {% endfor %}
                        </datalist>

                        <label for="year-input">Ano de Lançamento</label>
                        <input type="text" id="year-input" name="year" list="year-list" placeholder="Ex: 2000, 2010, 2024, etc">
                        <datalist id="year-list">
                            {% for year in range(1990, 2025) %}
                                <option value="{{ year }}"></option>
                            {% endfor %}
                        </datalist>

                        <label for="tags-input">Tag</label>
                        <input type="text" id="tags-input" name="tag" list="tags-list" placeholder="Ex: Multiplayer, Singleplayer, Co-op, etc">
                        <datalist id="tags-list">
                            {% for tag in tags %}
                                <option value="{{ tag }}"></option>
                            {% endfor %}
                        </datalist>

                        <label for="store-input">Loja</label>
                        <input type="text" id="store-input" name="store" list="store-list" placeholder="EX: Steam, EPIC Games, XBOX Store, etc">
                        <datalist id="store-list">
                           {% for loja in lojas %}
                                <option value="{{ loja }}"></option>
                            {% endfor %}
                        </datalist>

                        <button type="submit">Receber Recomendação!</button>
                    </form>
                </section>
                <section id="resultado">
                    {% if erro and buscou%}
                        <p class="mensagem_erro">{{erro}}</p>
                    {% endif %}

                    {% if not dados_jogo %}
                        <img src="{{url_for('static', filename='img/placeholder.png')}}" title="resultado">
                    {% else %}

                    <h2>Minha Recomendação</h2>

                    <img id="game_cover" src="{{ dados_jogo.background_image}}" alt="capa" title="capa"/>
                    <h5 id="nome_recomendado">{{ dados_jogo.titulo }}</h5>
                    
                    {% if dados_jogo.generos %}
                        <h5 class="dados_recomendado">Generos: {{ dados_jogo.generos | join(', ') }}</h5>
                    {% endif %}

                    {% if dados_jogo.plataformas %}
                        <h5 class="dados_recomendado">Plataformas: {{ dados_jogo.plataformas | join(', ') }}</h5>
                    {% endif %}

                    {% if dados_jogo.loja %}
                        <h5 class="dados_recomendado">Lojas Disponíveis: {{ dados_jogo.loja | join(', ') }}</h5>
                    {% endif %}
                    {% endif %}
                </section>
            </div> 
        </main>
        <footer>
            <section id="brands">
                <p>
                    <i class="fa-brands fa-square-whatsapp"></i>
                    <i class="fa-brands fa-square-instagram"></i>
                    <i class="fa-brands fa-square-linkedin"></i>
                </p>
            </section>

            <br>

            <section id="mark"><p>@ 2025, Dhialick Ferraz. Todos os direitos reservados.</p></section>
        </footer>
    </body>
</html>